arazzo: 1.0.0
info:
  title: Hello World Workflow
  description: Your first Arazzo workflow - demonstrates basic functionality
  version: 1.0.0

workflows:
  - workflowId: helloWorld
    description: Simple workflow to test basic functionality and API chaining
    steps:
      - stepId: getCurrentTime
        description: Get current time from world clock API
        operationRef: '#/operations/getWorldClock'
        outputs:
          current_time: $response.body.datetime
          timezone: $response.body.timezone
          day_of_week: $response.body.day_of_week

      - stepId: getMyIP
        description: Get my public IP address
        operationRef: '#/operations/getPublicIP'
        outputs:
          ip_address: $response.body.ip

      - stepId: getIPLocation
        description: Get location information for the IP address
        operationRef: '#/operations/getIPInfo'
        parameters:
          ip: $steps.getMyIP.outputs.ip_address
        dependsOn: [getMyIP]
        outputs:
          country: $response.body.country
          city: $response.body.city
          region: $response.body.region

operations:
  - operationId: getWorldClock
    method: GET
    url: http://worldtimeapi.org/api/timezone/UTC
    description: Get current UTC time and date information

  - operationId: getPublicIP
    method: GET
    url: https://api.ipify.org?format=json
    description: Get the public IP address of the current machine

  - operationId: getIPInfo
    method: GET
    url: http://ip-api.com/json/{ip}
    description: Get location information for a given IP address
    parameters:
      - name: ip
        in: path
        required: true
        schema:
          type: string
        description: IP address to look up